<!DOCTYPE html>
<html>
<head>
    <title>Firebase Test</title>
</head>
<body>
    <h1>Firebase Password Reset Test</h1>
    <input type="email" id="email" placeholder="Enter email" value="adahrukki@gmail.com">
    <button onclick="testReset()">Test Password Reset</button>
    <div id="result"></div>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, sendPasswordResetEmail } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

        const firebaseConfig = {
            apiKey: "{{VITE_FIREBASE_API_KEY}}",
            authDomain: "{{VITE_FIREBASE_PROJECT_ID}}.firebaseapp.com", 
            projectId: "{{VITE_FIREBASE_PROJECT_ID}}",
            appId: "{{VITE_FIREBASE_APP_ID}}"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        window.testReset = async function() {
            const email = document.getElementById('email').value;
            const result = document.getElementById('result');
            
            try {
                await sendPasswordResetEmail(auth, email);
                result.innerHTML = '<p style="color: green;">Password reset email sent successfully!</p>';
            } catch (error) {
                result.innerHTML = '<p style="color: red;">Error: ' + error.message + '</p>';
                console.error('Firebase error:', error);
            }
        }
    </script>
</body>
</html>